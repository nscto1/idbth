<!DOCTYPE html>
<html lang="en" style="overflow-y: auto;">

<head>
	<title></title>
	<meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0,user-scalable=0">
	<meta charset="UTF-8">
	<link rel="stylesheet" href="./assets/font-raleway/raleway.css?12">
	<link rel="stylesheet" href="./assets/line-awesome/css/line-awesome.min.css">
	<link rel="stylesheet" href="./assets/css/theme.css?">
	<link rel="stylesheet" href="./assets/slick/slick.css">
	<link rel="stylesheet" href="./assets/slick/slick-theme.css">
	<link rel="stylesheet" href="./assets/css/style.css">
	<link rel="stylesheet" href="./assets/css/theme-color.css">
	<link rel="stylesheet" href="./assets/fselect/fSelect.css">
</head>

<body class="" style="overflow-x:hidden">
	<div id="content-app">
		<div id="main-content-app">
			<div class="card top theme" id="top-bar" style="display:none">
				<div class="row" style="max-width:420px;margin:auto">
					<div class="col center nav-btn btn-cart ripple-"
						style="padding-top:13px;padding-left:9px;display:none" id="btn-back">
						<i class="la la-arrow-left la-fw" style="font-size:24px"></i>
					</div>
					<div class="col right center nav-btn btn-cart ripple-" style="padding-top:13px;padding-left:9px">
						<i class="la la-ellipsis-v la-fw" style="font-size:24px"></i>
					</div>
					<div class="rest row large clamp" style="padding:13px 4px 9px 16px;max-height:43px">
						<b id="title-bar">Indibath</b>
					</div>
				</div>
			</div>
			<div class="bottom white card-4 text-gray-1" id="bottom-bar" style="display:none">
				<div class="row" style="max-width:420px;margin:auto">
					<div class="col btn center ripple- bottom-bar padding-small" id="btn-home" style="width:20%"
						onclick="to_frame_home(this)">
						<i class="la la-user-clock"></i> <span>Absensi</span>
					</div>
					<div class="col btn center ripple- bottom-bar padding-small" style="width:20%"
						onclick="to_frame_ijin(this)">
						<i class="la la-calendar-day"></i> <span>Ijin</span>
					</div>
					<div class="col btn center ripple- bottom-bar padding-small" style="width:20%"
						onclick="to_frame_tugas(this)">
						<i class="la la-suitcase"></i> <span>Tugas</span>
					</div>
					<div class="col btn center ripple- bottom-bar padding-small" style="width:20%"
						onclick="to_frame_slip_gaji(this)">
						<i class="la la-credit-card"></i> <span>Slip Gaji</span>
					</div>
					<div class="col btn center ripple- bottom-bar padding-small" style="width: 20%;"
						onclick="to_frame_akun(this)">
						<i class="la la-user"></i> <span>Akun</span>
					</div>
				</div>
			</div>
			<div id="content-home-1" class="text-gray-1 content-home"
				style="max-width:420px;margin:auto;padding:80px 0 70px;display:none"></div>
			<div id="content-home-2" class="text-gray-1 content-home"
				style="max-width:420px;margin:auto;padding:80px 0 70px;display:none"></div>
			<div id="content-home-3" class="text-gray-1 content-home"
				style="max-width:420px;margin:auto;padding:80px 0 70px;display:none"></div>
			<div id="content-home-4" class="text-gray-1 content-home"
				style="max-width:420px;margin:auto;padding:80px 0 70px;display:none"></div>
			<div id="content-home" class="text-gray-1 content-home"
				style="max-width:420px;margin:auto;padding:80px 0 70px">
				<div class="center">
					<img src="assets/img/logo.jpeg" class="margin-bottom" id="imgLogo" style="position:relative" />
					<div id="loaderLogo" class="loader-gray padding-32 text-gray margin-top">Loading..</div>
					<div class="left-align" id="loginForm" style="margin-top:-25px;padding:0 64px;display:none">
						<form id="form-login">
							<div class="margin-bottom">
								<label class="large"><b>Username/Email</b></label>
								<input type="text" name="email" id="email"
									class="input block border round light-gray padding-8" placeholder="Username/Email">
							</div>
							<div class="margin-bottom">
								<label class="large"><b>Password</b></label>
								<input type="password" name="password" id="password"
									class="input block border round light-gray padding-8" placeholder="Password">
							</div>
							<div class="margin-bottom">
								<button id="send-data-tambah"
									class="btn block deep-orange round border border-deep-orange card"
									style="margin-top:26px">
									<i class="la la-sign-in large" style="position:relative;left:-3px"></i>
									<b>LOGIN</b>
								</button>
							</div>
						</form>
						<div class="margin-bottom center text-theme">
							<a onclick="to_frame_lupa_password()">Lupa Password</a>
						</div>
					</div>
					<div class="left-align" id="resetPasswordForm" style="margin-top:-25px;padding:0 64px;display:none">
						<div class="margin-bottom">
							<label class="large"><b>Masukan Email Anda</b></label>
							<input type="text" class="input block border round light-gray padding-8"
								placeholder="Masukan Email Anda">
						</div>
						<div class="margin-bottom">
							<button class="btn block deep-orange round border border-deep-orange card"
								style="margin-top:26px" onclick="proses_reset_password()">
								<i class="la la-unlock-alt large" style="position:relative;top:1px;left:-3px"></i>
								<b>PROSES</b>
							</button>
						</div>
						<div class="margin-bottom center text-theme">
							<a onclick="to_frame_login()">Kembali ke Login</a>
						</div>
					</div>
				</div>
				<script>
					function proses_reset_password() {
						notif("Email reset password telah terkirim, silahkan cek email anda dan ikuti petunjuknya");
					}
					function proses_login(ths) {
						if (ths) $(ths).prop("disabled", true);
						// if success{
						notif("Anda berhasil login");
						to_frame_home();
						// else{

						// }
					}
					function to_frame_home(btn) {
						back_all()
						btn = $("#btn-home");
						btn.parent().find(".text-theme-d1").removeClass("text-theme-d1");
						btn.addClass("text-theme-d1");
						getHtml("home", function (res) {
							$("#btn-back").hide();
							$("#content-home").hide().html(res).fadeIn("fast");
							$("#top-bar").fadeIn("fast");
							$("#bottom-bar").fadeIn("fast");
							$("#title-bar").html("Indibath");
						});
					}
					function back_all() {
						if (!$("#btn-back").is(":hidden")) {
							$(".content-home").html("").hide();
							$("#btn-back").hide().off("click");
						}
						$("#content-home").show();
					}
					function to_frame_lupa_password() {
						$("#loginForm").fadeOut("fast", function () {
							$("#resetPasswordForm").fadeIn();
						});
					}
					function to_frame_login() {
						$("#resetPasswordForm").fadeOut("fast", function () {
							$("#loginForm").fadeIn();
						});
					}
				</script>
			</div>
		</div>
	</div>
</body>
<script src="cordova.js" type="text/javascript" charset="utf-8"></script>
<script src="./assets/js/jquery.js"></script>
<script src="./assets/js/jquery.touchwipe.aiqbal.tech.js" type="text/javascript"></script>
<script src="./assets/js/app.js?2"></script>
<script src="./assets/jquery-validation/jquery.validate.min.js"></script>
<script src="./assets/jquery-validation/additional-methods.min.js"></script>
<script src="./assets/js/jquery.loadButton.min.js"></script>
<script src="./assets/fselect/fSelect.js"></script>
<script>
	$(document).ready(function () {


		$("#form-login").validate({
			rules: {
				email: {
					required: true,
					email: true,
				},
				password: {
					required: true,
				},
			},
			messages: {
				email: {
					required: "email tidak boleh kosong",
					email: "masukan format email yang benar",
				},
				password: {
					password: "password tidak boleh kosong",
				},
			},
			errorElement: 'span',
			errorPlacement: function (error, element) {
				error.addClass('text-red');
				element.closest('.margin-bottom').append(error);
			},
			highlight: function (element, errorClass, validClass) {
				$(element).removeClass('border border-gray');
				$(element).addClass('border border-red');
			},
			unhighlight: function (element, errorClass, validClass) {
				$(element).removeClass(' border border-red');
				$(element).addClass(' border border-gray');
			},


			submitHandler: function (form) {
				var email = $('#email').val();
				var password = $('#password').val();
				$.ajax({
					type: "POST",
					url: "https://indibath.com/api/login",
					dataType: "JSON",
					data: {
						email: email,
						password: password,
					},
					success: function (data) {
						if (data.status == false) {
							if (data.code_error == '1') {
								$('#email').addClass("border-red");
								$('#email').after(`<span class="error text-red">email yang anda masukan tidak terdaftar</span>`);
								return;
							} else {
								$('#password').addClass("border-red");
								$('#password').after(`<span class="error text-red">password yang anda masukan salah</span>`);
								return;
							}

						}
						setLS('id_user', data.id);
						proses_login()
					},
					error: function (data) {
						console.log(data);
					}
				});
				return false;
			}
		});
	});

</script>

</html>